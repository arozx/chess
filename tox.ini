[tox]
envlist = py

[testenv]
deps =
    pytest
    pytest-cov
    tornado
    pycryptodome
    PyQt5
    chess
    psycopg2
    python-dotenv
skip_install = true

allowlist_externals =
    xvfb-run

commands =
    xvfb-run pytest --ignore test_network_gui.py --cov --cov-report=term --cov-report=xml:coverage.xml --cov=./ {posargs}
[coverage:report]
# Show coverage report in the terminal
show_missing = True
